<div class="page-container">

    <header class="horizontal-container">
        <mail-logo></mail-logo>
<!--        
        
        <search-panel class="horizontal-center"
            default-query=" defaultQuery "
            on-search-start = "search(query) "
            >
        </search-panel>
        
        <div class="right-align" ng-controller="AccountController as accountCtrl">
            {{accountCtrl.accountEmail}}
        </div>
-->
    </header>

    <section class="page-center horizontal-container">
        <nav class="page-left-menu">
            
            <section class="compose-toolbar">
                <button (click)="compose()" class="btn btn-danger">Compose</button>
            </section>
            
            <section class="folder-list">
                
                <folder-list 
                    [folders]="folders" 
                    [defaultFolder]="defaultFolder"
                    (selected)="selectFolder($event.folder)">
                </folder-list>
                
                <folder-list 
                    [title]="'Custom folders'"
                    [folders]="customFolders"
                    (onSelect)="selectFolder($event.folder)" 
                    [allowCreate]="true">
                </folder-list>
                
            </section>
        </nav>
        
        <section class="mail-composer horizontal-center "
                    [hidden]="!composerActive">
            
            <message-composer 
                [draft]="draft"
                (onSave)="updateDraft($event.draft)"
                (onSend)="send()"
                (onCancel)="closeComposer()"
            >
                
            </message-composer> 
               
        </section> 
                                            
        <section class="horizontal-center vertical-container">
            <message-list 
                [title]="messageListTitle"
                [messages]="messages"
                (onCurrentMessageChanged)="selectCurrentMessage($event.message)"

                >
            </message-list>
            
            <div class="spacer">
               
                    <hr>                
            </div>
            <message-viewer 
                [message]="currentMessage"
                (onReply)="replyTo($event.message)"
                (onForward)="forward($event.message)"
                (onDelete)="delete($event.message)"
                >
            </message-viewer>
            
        </section>

    </section>
    
    <footer> 
        powered by Angular 1.5 and <a href="http://www.nispro.it">NIS s.r.l.</a>
        <br/>
    </footer>
    
</div>